var index,color_stopper,shift_stopper,keyc,numa,num,value,numb,color_stopperb,headDot,headLine,busy=0,rectWidth=40,rectHeight=50,nWidth=127,nHeight=83.7,numbers=[],headSize=50,decider=0,boxDist=148,headX=180,headY=60,topgap=130,leftgap=120,dotradius=4,ncolor="white",scolor="green",dcolor="#9898fb",gtype="sll",gap=40,linegap=90,box=new Image,tbox=new Image,sbox=new Image,boxline=new Image,arrowtriangle=new Image,arrowline=new Image,dot=new Image,count=5,linewidth=2,lineheight=63,dotwidth=17,dotheight=16,arrowtrianglewidth=20,arrowtriangleheight=14,searchover=0,canvas=document.getElementById("linkedlist"),ctx=canvas.getContext("2d");function handlers(){document.getElementById("head-insert").onclick=function(){insertAtHead()},document.getElementById("tail-insert").onclick=function(){insertAtTail()},document.getElementById("node-insert").onclick=function(){insertAtNode()},document.getElementById("search-button").onclick=function(){search_num()},document.getElementById("remove-button").onclick=function(){deleter()}}function counter(){0===--count&&renderer()}function clear(){document.getElementById("HeadtoBeInserted").value="",document.getElementById("TailtoBeInserted").value="",document.getElementById("AnytoBeInserted").value="",document.getElementById("index").value="",document.getElementById("toBeSearched").value="",document.getElementById("rightnode").value=""}function imgdeclarer(){box.onload=counter,tbox.onload=counter,sbox.onload=counter,boxline.onload=counter,arrowtriangle.onload=counter,arrowline.onload=counter,dot.onload=counter,box.src="https://raw.githubusercontent.com/Chintu1308/sll-library/main/src/static/img/slldemosearch-rectangle-19-copy-13@2x.png",tbox.src="https://raw.githubusercontent.com/Chintu1308/sll-library/main/src/static/img/slldemoinsert-rectangle-19-copy-12@2x.png",sbox.src="https://raw.githubusercontent.com/Chintu1308/sll-library/main/src/static/img/slldemosearch-rectangle-19-copy-14@2x.png",boxline.src="https://raw.githubusercontent.com/Chintu1308/sll-library/main/src/static/img/slldemosearch-path-5@2x.png",arrowtriangle.src="https://raw.githubusercontent.com/Chintu1308/sll-library/main/src/static/img/slldemosearch-triangle 4@2x.png",arrowline.src="https://raw.githubusercontent.com/Chintu1308/sll-library/main/src/static/img/slldemosearch-path-15 4@2x.png",dot.src="https://raw.githubusercontent.com/Chintu1308/sll-library/main/src/static/img/slldemosearch-oval-7-copy@2x.png"}function drawBox(e,t,n,o){val=numbers[n],o==ncolor?ctx.drawImage(box,e,t,nWidth,nHeight):o==scolor?ctx.drawImage(sbox,e,t,nWidth,nHeight):ctx.drawImage(tbox,e,t,nWidth,nHeight),ctx.globalAlpha=.5,ctx.drawImage(boxline,e+.9*linegap,t+(nHeight-lineheight)/2,linewidth,lineheight),ctx.globalAlpha=1,n==numbers.length-1?(ctx.drawImage(arrowtriangle,e+.9*(linegap+15+43+45),t+(nHeight-dotheight)/2-5,20,14),ctx.drawImage(arrowline,e+linegap+15,t+(nHeight-dotheight)/2,70,5)):(ctx.drawImage(arrowtriangle,e+.9*(linegap+15+43),t+(nHeight-dotheight)/2-5,20,14),ctx.drawImage(arrowline,e+linegap+15,t+(nHeight-dotheight)/2,33,5)),ctx.drawImage(dot,e+.9*(linegap+15),t+(nHeight-dotheight)/2-5,dotwidth,dotheight),ctx.beginPath(),ctx.fillStyle=o==ncolor?"#2180bc":"#fff",ctx.font="25px OpenSans-Regular";o=ctx.measureText(val).width;ctx.fillText(numbers[n],e+(linegap-o)/2,rectHeight+t),ctx.fill(),ctx.closePath(),ctx.stroke()}function drawArrow(e,t,n,o){ctx.beginPath();var r=Math.atan2(o-t,n-e);ctx.strokeStyle="#d2d2d2",ctx.moveTo(e,t),ctx.lineTo(n,o),ctx.stroke(),ctx.closePath(),ctx.beginPath(),ctx.moveTo(n-20*Math.cos(r-Math.PI/6),o-20*Math.sin(r-Math.PI/6)),ctx.lineTo(n,o),ctx.lineTo(n-20*Math.cos(r+Math.PI/6),o-20*Math.sin(r+Math.PI/6)),ctx.fillStyle="#979091",ctx.fill(),ctx.stroke(),ctx.closePath()}function draw_head(){ctx.beginPath(),ctx.font="22px OpenSans-SemiBold",ctx.fillStyle="#2f99d1",ctx.fillText("Head",headX-20,headY-30),ctx.closePath(),ctx.stroke(),ctx.beginPath();ctx.arc(headX,headY,7,0,2*Math.PI,!1),ctx.fillStyle="#d7d7d7",ctx.strokeStyle="#d7d7d7",ctx.fill(),ctx.stroke(),ctx.closePath()}function renderer(){ctx.clearRect(0,0,1360,320),draw_head(),drawArrow(headX,headY,headX,topgap);for(var e=0;e<numbers.length-1;e++)drawBox(leftgap+e*boxDist,topgap,e,ncolor);0<numbers.length&&drawBox(leftgap+(numbers.length-1)*boxDist,topgap,numbers.length-1,ncolor),ctx.beginPath(),ctx.font="22px OpenSans-SemiBold",ctx.fillStyle="#2f99d1",ctx.fillText("Null",leftgap+numbers.length*boxDist+55,topgap+rectHeight/2+20),ctx.fill(),ctx.closePath()}function array_maker(){1==decider&&numbers.push(value),2==decider&&numbers.insert(index,value),3==decider&&numbers.splice(index-1,1),4==decider&&numbers.unshift(value)}function nodeshift(){if(keyc==boxDist)busy=0,clearInterval(shift_stopper),array_maker(),renderer();else if(keyc==-boxDist)busy=0,clearInterval(shift_stopper),array_maker(),renderer();else{ctx.clearRect(0,0,1360,320),draw_head(),drawArrow(headX,headY,4==decider?headX+keyc:headX,topgap);for(var e=0;e<index-1;e++)drawBox(leftgap+e*boxDist,topgap,e,ncolor);2==decider&&drawBox(leftgap+(e=index-1)*boxDist,topgap,e,ncolor);for(e=index;e<numbers.length;e++)drawBox(leftgap+e*boxDist+keyc,topgap,e,ncolor);ctx.beginPath(),ctx.font="22px OpenSans-SemiBold",ctx.fillStyle="#2f99d1",ctx.fillText("Null",leftgap+numbers.length*boxDist+55+keyc,topgap+rectHeight/2+20),ctx.fill(),ctx.closePath(),3==decider?keyc-=1:keyc+=1}}function colorer(e){if(numa==e)1==decider&&(array_maker(),busy=0,clearInterval(color_stopper),renderer()),2==decider&&(shift_stopper=setInterval(nodeshift,1),setTimeout(function(){clearInterval(color_stopper),busy=0},boxDist));else{ctx.clearRect(0,0,1360,320),renderer();for(var t=0;t<numbers.length;t++)drawBox(leftgap+t*boxDist,topgap,t,t!=numa?ncolor:dcolor);ctx.beginPath(),ctx.font="22px OpenSans-SemiBold",ctx.fillStyle="#2f99d1",ctx.fillText("Null",leftgap+numbers.length*boxDist+55+keyc,topgap+rectHeight/2+20),ctx.fill(),ctx.closePath(),numa+=1}}function searcher(e){if(searchover=0,numb==numbers.length)searchover=1,clearInterval(color_stopperb),busy=0,renderer(),document.getElementById("ins").innerHTML="Value not found!";else{ctx.clearRect(0,0,1360,320),draw_head(),drawArrow(headX,headY,headX,topgap);for(var t=0;t<numbers.length-1;t++)t!=numb?drawBox(leftgap+t*boxDist,topgap,t,ncolor):numbers[t]==e?(searchover=1,drawBox(leftgap+t*boxDist,topgap,t,scolor),document.getElementById("ins").innerHTML="Value found!",clearInterval(color_stopperb),5==decider&&(busy=0)):drawBox(leftgap+t*boxDist,topgap,t,dcolor);numb!=numbers.length-1?drawBox(leftgap+(numbers.length-1)*boxDist,topgap,numbers.length-1,ncolor):numbers[numb]==e?(searchover=1,drawBox(leftgap+(numbers.length-1)*boxDist,topgap,t,scolor),clearInterval(color_stopperb),document.getElementById("ins").innerHTML="Value found!",5==decider&&(busy=0)):drawBox(leftgap+(numbers.length-1)*boxDist,topgap,t,dcolor),1==searchover&&3==decider&&0!=index&&setTimeout(function(){shift_stopper=setInterval(nodeshift,1)},1e3),ctx.beginPath(),ctx.font="22px OpenSans-SemiBold",ctx.fillStyle="#2f99d1",ctx.fillText("Null",leftgap+numbers.length*boxDist+55,topgap+rectHeight/2+20),ctx.fill(),ctx.closePath(),numb+=1}}function insertAtHead(){1==busy?clear():(busy=1,num=0,value=document.getElementById("HeadtoBeInserted").value,keyc=index=0,decider=4,7==numbers.length?(document.getElementById("ins").innerHTML="Only 7 nodes are allowed",busy=0):(clear(),document.getElementById("ins").innerHTML="Next of new node is pointed to the head node. Head pointer is now pointed to the new node.",shift_stopper=setInterval(nodeshift,1)))}function insertAtTail(){1==busy?clear():(keyc=numa=0,decider=busy=1,value=document.getElementById("TailtoBeInserted").value,index=numbers.length,7==numbers.length?(document.getElementById("ins").innerHTML="Only 7 nodes are allowed",clear(),busy=0):(clear(),document.getElementById("ins").innerHTML="Next of last node is pointed to the new node. Next of new node is pointed to NULL.",color_stopper=setInterval(colorer,500,index)))}function insertAtNode(){1==busy?clear():(busy=1,keyc=numa=0,decider=2,value=document.getElementById("AnytoBeInserted").value,index=document.getElementById("index").value,7==numbers.length?(document.getElementById("ins").innerHTML="Only 7 nodes are allowed",clear(),busy=0):index>String(parseInt(numbers.length)-1)||index<1?(0==numbers.length?document.getElementById("ins").innerHTML="Linked List is empty!":document.getElementById("ins").innerHTML="Node no should lie between 1 and "+String(parseInt(numbers.length)-1)+" !",clear(),busy=0):7==numbers.length?(document.getElementById("ins").innerHTML="Only 7 nodes are allowed",clear(),busy=0):(clear(),document.getElementById("ins").innerHTML="Next of new node is pointed to the next of nth node. Next of nth node is pointed to the new node. Where n = "+index,color_stopper=setInterval(colorer,500,index)))}function search_num(){1==busy?clear():(busy=1,decider=5,numb=0,value=document.getElementById("toBeSearched").value,clear(),color_stopperb=setInterval(searcher,500,value))}function deleter(){1==busy?clear():(busy=1,decider=3,keyc=numb=numa=0,value=document.getElementById("rightnode").value,index=numbers.indexOf(value)+1,clear(),color_stopperb=setInterval(searcher,500,value))}function handlers(){document.getElementById("head-insert").onclick=function(){insertAtHead()},document.getElementById("tail-insert").onclick=function(){insertAtTail()},document.getElementById("node-insert").onclick=function(){insertAtNode()},document.getElementById("search-button").onclick=function(){search_num()},document.getElementById("remove-button").onclick=function(){deleter()};for(var e=document.getElementsByClassName("collapsible"),t=0;t<e.length;t++)e[t].addEventListener("click",function(){this.classList.toggle("active");var e=this.nextElementSibling;e.style.maxHeight?e.style.maxHeight=null:e.style.maxHeight=e.scrollHeight+"px"})}Array.prototype.insert=function(e,t){this.splice(e,0,t)},String.prototype.isNumber=function(){return/^-{0,1}\d+$/.test(this)},imgdeclarer();